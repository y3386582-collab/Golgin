<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Profile Manager</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  box-sizing:border-box;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu;
}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#020617,#000);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:8px;
  color:#e5e7eb;
}

/* ONLINE STATUS */
.status-net{
  position:fixed;
  top:10px;
  left:12px;
  font-size:11px;
  font-weight:600;
  letter-spacing:.3px;
  display:flex;
  align-items:center;
  gap:6px;
  z-index:99;
}

.dot{
  width:8px;
  height:8px;
  border-radius:50%;
  background:red;
  box-shadow:0 0 8px red;
}

/* MAIN BOX */
.section{
  width:100%;
  max-width:720px;
  background:linear-gradient(180deg,#020617,#000);
  border-radius:16px;
  padding:20px 14px;
  border:1px solid rgba(56,189,248,.25);
  box-shadow:0 0 40px rgba(56,189,248,.15);
}

/* MOBILE FULLSCREEN */
@media(max-width:768px){
  body{padding:0;}
  .section{
    min-height:100vh;
    border-radius:0;
    border:none;
    box-shadow:none;
  }
}

/* TITLE */
.title{
  text-align:center;
  font-size:22px;
  font-weight:800;
  margin-bottom:16px;
  background:linear-gradient(135deg,#38bdf8,#22d3ee,#0ea5e9);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 14px rgba(56,189,248,.35);
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.full{grid-column:1/-1;}

/* FORM */
label{
  font-size:11px;
  color:#94a3b8;
  margin-bottom:4px;
  display:block;
}

input{
  width:100%;
  padding:11px 12px;
  border-radius:11px;
  border:1px solid #1e293b;
  background:#020617;
  color:#e5e7eb;
  outline:none;
  font-size:13px;
}

input:focus{
  border-color:#38bdf8;
  box-shadow:0 0 0 1px rgba(56,189,248,.35);
}

.ua-wrap{
  font-size:11px;
  color:#64748b;
  margin-bottom:6px;
}

/* BUTTON */
button{
  margin-top:16px;
  width:100%;
  padding:14px;
  border-radius:13px;
  border:none;
  background:linear-gradient(135deg,#38bdf8,#0ea5e9);
  color:#020617;
  font-weight:800;
  letter-spacing:.4px;
  cursor:pointer;
}

button:active{transform:scale(.97);}

/* TOAST */
.toast{
  position:fixed;
  bottom:18px;
  left:50%;
  transform:translateX(-50%) scale(.95);
  background:#020617;
  border:1px solid #1e293b;
  padding:12px 16px;
  border-radius:14px;
  font-size:13px;
  opacity:0;
  transition:.25s;
  box-shadow:0 0 30px rgba(0,0,0,.7);
  pointer-events:none;
}

.toast.show{
  opacity:1;
  transform:translateX(-50%) scale(1);
}

.toast.success{
  border-color:#22c55e;
  color:#22c55e;
  box-shadow:0 0 18px rgba(34,197,94,.4);
}

.toast.error{
  border-color:#ef4444;
  color:#ef4444;
  box-shadow:0 0 18px rgba(239,68,68,.4);
}
</style>
</head>

<body>

<div class="status-net">
  <div id="dot" class="dot"></div>
  <span id="netText">OFFLINE</span>
</div>

<section class="section">

  <div class="title">Profile Manager</div>

  <div class="grid">

    <div class="full">
      <label>API KEY</label>
      <input id="api" placeholder="Kosong = default API publik">
    </div>

    <div class="full">
      <label>User Agent Segment (Editable Only)</label>
      <div class="ua-wrap">
        Mozilla/5.0 (Linux; <b>[editable]</b> ) AppleWebKit/537.36 ...
      </div>
      <input id="ua_segment" value="Android 13; itel S23 Plus Build/TP1A.220624.014;">
    </div>

    <div>
      <label>Platform</label>
      <input id="platform" value="Linux armv8l">
    </div>

    <div>
      <label>Resolution</label>
      <input id="resolution" value="720x1600">
    </div>

    <div>
      <label>Device Pixel Ratio</label>
      <input id="dpr" type="number" value="2">
    </div>

    <div>
      <label>Hardware Concurrency</label>
      <input id="cpu" type="number" value="8">
    </div>

    <div>
      <label>Device Memory (GB)</label>
      <input id="ram" type="number" value="4">
    </div>

    <div>
      <label>Max Touch Points</label>
      <input id="touch" type="number" value="10">
    </div>

    <div>
      <label>WebGL Vendor</label>
      <input id="vendor" value="Qualcomm">
    </div>

    <div>
      <label>WebGL Renderer</label>
      <input id="renderer" value="Adreno (TM) 610">
    </div>

  </div>

  <button onclick="createProfile()">Create Profile</button>

</section>

<div id="toast" class="toast"></div>

<script>
const DEFAULT_API="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTg4YzY1NmNlODliMTBhN2M4Yjc5NjciLCJ0eXBlIjoiZGV2Iiwiand0aWQiOiI2OTg4YzcxOWNlMjIyNGRkNDI1MjY4YTUifQ.s2HbtKfjvgKL8zouyUvgiqrhnH-M4XTjS8fjvD11I6A";

const PROXIES=[
  "https://corsproxy.io/?",
  "https://api.allorigins.win/raw?url="
];

function toast(msg,type){
  const t=document.getElementById("toast");
  t.className="toast "+type;
  t.textContent=msg;
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"),2400);
}

/* ONLINE STATUS */
function updateNet(){
  const online=navigator.onLine;
  dot.style.background=online?"#22c55e":"#ef4444";
  dot.style.boxShadow=`0 0 10px ${online?"#22c55e":"#ef4444"}`;
  netText.textContent=online?"ONLINE":"OFFLINE";
  netText.style.color=online?"#22c55e":"#ef4444";
}
window.addEventListener("online",updateNet);
window.addEventListener("offline",updateNet);
updateNet();

/* UA BUILD */
function buildUA(){
  const seg=ua_segment.value.trim();
  if(!seg.startsWith("Android")||!seg.endsWith(";"))
    throw "Format wajib: Android X; Brand Model Build/XXXX;";
  return `Mozilla/5.0 (Linux; ${seg}) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.6668.101 Safari/537.36`;
}

async function createProfile(){
  try{
    toast("⏳ Creating profile...","");

    const UA=buildUA();
    const apiKey=api.value.trim()||DEFAULT_API;

    const payload={
      name:"Android "+Date.now(),
      notes:"Profile Manager",
      autoLang:true,
      os:"android",
      devicePixelRatio:Number(dpr.value),
      navigator:{
        userAgent:UA,
        resolution:resolution.value,
        language:"id-ID",
        platform:platform.value,
        hardwareConcurrency:Number(cpu.value),
        deviceMemory:Number(ram.value),
        maxTouchPoints:Number(touch.value)
      },
      proxy:{mode:"none"},
      timezone:{enabled:true,fillBasedOnIp:true},
      geolocation:{mode:"prompt",enabled:true,fillBasedOnIp:true},
      audioContext:{mode:"noise"},
      canvas:{mode:"off"},
      fonts:{families:["Roboto","Noto Sans"],enableMasking:true,enableDomRect:true},
      mediaDevices:{videoInputs:1,audioInputs:1,audioOutputs:1,enableMasking:true},
      webRTC:{mode:"disabled",enable:false,isEmptyIceList:true},
      webGL:{mode:"noise"},
      clientRects:{mode:"noise"},
      webGLMetadata:{vendor:vendor.value,renderer:renderer.value,mode:"mask"},
      chromeExtensions:[],
      userChromeExtensions:[],
      folders:[]
    };

    let ok=false;
    let lastErr="";

    for(const p of PROXIES){
      try{
        const res=await fetch(p+"https://api.gologin.com/browser/custom",{
          method:"POST",
          headers:{
            "Authorization":"Bearer "+apiKey,
            "Content-Type":"application/json"
          },
          body:JSON.stringify(payload)
        });

        if(res.ok){
          ok=true;
          break;
        }else{
          lastErr=await res.text();
        }
      }catch(e){
        lastErr=e;
      }
    }

    if(ok){
      toast("✅ Profile berhasil dibuat","success");
    }else{
      toast("❌ Gagal create profile","error");
      console.error(lastErr);
    }

  }catch(e){
    toast("⚠️ "+e,"error");
  }
}
</script>

</body>
</html>